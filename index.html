<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>WorkFit - Team Fitness</title>
  <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=">
  
  <!-- PWA Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="WorkFit">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#001f3f">
  
  <!-- Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- iOS Icons -->
  <link rel="apple-touch-icon" href="icons/icon-152x152.png">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --navy: #001f3f;
      --navy-light: #003366;
      --navy-dark: #001a33;
      --navy-medium: #0a2e57;
      --gold: #FFD700;
      --accent: #C73E1D;
      --light: #F7F7F7;
      --gray: #777777;
      --white: #FFFFFF;
      --text-primary: #222222;
      --text-secondary: #5a5a5a;
      --bg-primary: #ffffff;
      --bg-secondary: #f5f5f5;
      --border-color: #ddd;
      --shadow-color: rgba(0, 0, 0, 0.1);
      --card-bg: #ffffff;
      --success: #4CAF50;
      --error: #f44336;
    }

    /* Dark mode variables */
    [data-theme="dark"] {
      --navy: #0a2e57;
      --navy-light: #1a3e67;
      --navy-dark: #001a33;
      --navy-medium: #0a2e57;
      --gold: #FFD700;
      --accent: #C73E1D;
      --light: #1a1a1a;
      --gray: #aaaaaa;
      --white: #222222;
      --text-primary: #f0f0f0;
      --text-secondary: #cccccc;
      --bg-primary: #121212;
      --bg-secondary: #1a1a1a;
      --border-color: #333333;
      --shadow-color: rgba(0, 0, 0, 0.3);
      --card-bg: #1e1e1e;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      line-height: 1.6;
      font-size: 15px;
      -webkit-text-size-adjust: 100%;
      transition: background-color 0.3s ease, color 0.3s ease;
      padding-bottom: 4rem;
    }

    /* PWA Install Button */
    .pwa-install-btn {
      position: fixed;
      top: 10px;
      right: 60px;
      background: var(--gold);
      color: var(--navy);
      border: none;
      padding: 8px 12px;
      border-radius: 20px;
      font-weight: 600;
      cursor: pointer;
      z-index: 1001;
      font-size: 0.8rem;
      box-shadow: 0 2px 5px var(--shadow-color);
      display: none;
    }

    /* Installation Section */
    .pwa-install-section {
      background: var(--navy);
      color: white;
      padding: 1.5rem 1rem;
      text-align: center;
      margin: 0;
      border-bottom: 3px solid var(--gold);
    }

    .pwa-install-section h3 {
      margin-bottom: 0.5rem;
      font-size: 1.2rem;
    }

    .pwa-install-section p {
      margin-bottom: 1rem;
      opacity: 0.9;
    }

    .install-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 1rem;
    }

    .pwa-direct-install {
      background: var(--gold);
      color: var(--navy);
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .pwa-direct-install:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
    }

    .show-install-guide {
      background: transparent;
      color: white;
      border: 2px solid white;
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .show-install-guide:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
    }

    /* Installation Guide Modal */
    .install-guide-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .install-guide-content {
      background: white;
      padding: 2rem;
      border-radius: 15px;
      max-width: 500px;
      width: 100%;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }

    .close-guide {
      float: right;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--navy);
      padding: 0.2rem;
    }

    .install-guide-content h3 {
      color: var(--navy);
      margin-bottom: 1.5rem;
      text-align: center;
      font-size: 1.4rem;
    }

    .install-steps {
      text-align: left;
    }

    .step {
      margin-bottom: 1.5rem;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 10px;
      border-left: 4px solid var(--gold);
    }

    .step h4 {
      color: var(--navy);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .step p {
      color: #666;
      margin: 0;
      line-height: 1.5;
    }

    .close-guide-btn {
      background: var(--navy);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      cursor: pointer;
      font-weight: bold;
      width: 100%;
      margin-top: 1rem;
      transition: background 0.3s ease;
    }

    .close-guide-btn:hover {
      background: var(--navy-light);
    }

    /* Rest of your existing CSS remains the same */
    /* Navigation */
    header {
      background-color: var(--bg-primary);
      box-shadow: 0 2px 10px var(--shadow-color);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
    }

    .logo {
      height: 35px;
      width: auto;
    }

    .nav-links {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .nav-links a {
      color: var(--text-primary);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s;
      font-size: 0.85rem;
      padding: 0.5rem;
    }

    .nav-links a:hover {
      color: var(--gold);
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 1.3rem;
      color: var(--navy-dark);
      padding: 0.5rem;
      cursor: pointer;
      z-index: 101;
    }

    .theme-toggle {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 35px;
      height: 35px;
      transition: background-color 0.3s;
    }

    .theme-toggle:hover {
      background-color: rgba(0,0,0,0.1);
    }

    .theme-toggle svg {
      width: 20px;
      height: 20px;
      fill: var(--text-primary);
    }

    /* Sections */
    section {
      padding: 1.5rem 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-title {
      text-align: left;
      margin-bottom: 1.2rem;
      color: var(--navy);
      position: relative;
      font-size: 1.3rem;
      padding-left: 8px;
      border-left: 3px solid var(--gold);
    }

    /* Weekly Digest Section */
    .digest {
      background-color: var(--bg-primary);
      position: relative;
      overflow: hidden;
    }

    .digest-carousel {
      position: relative;
      overflow: hidden;
      padding: 0.5rem 0;
    }

    .digest-track {
      display: flex;
      gap: 1.2rem;
      transition: transform 0.5s ease;
      padding: 0.5rem;
    }

    .digest-card {
      background: var(--card-bg);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 6px var(--shadow-color);
      transition: transform 0.3s;
      display: flex;
      flex-direction: column;
      flex: 0 0 calc(33.333% - 1rem);
      min-width: 250px;
      cursor: pointer;
    }

    .digest-card:hover {
      transform: translateY(-3px);
    }

    .digest-img-container {
      height: 120px;
      overflow: hidden;
    }

    .digest-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .digest-card:hover .digest-img {
      transform: scale(1.05);
    }

    .digest-content {
      padding: 1rem;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .digest-category {
      display: inline-block;
      background: var(--gold);
      color: var(--navy);
      padding: 0.2rem 0.6rem;
      border-radius: 15px;
      font-size: 0.7rem;
      margin-bottom: 0.4rem;
      font-weight: 600;
    }

    .digest-title {
      font-size: 1rem;
      margin-bottom: 0.4rem;
      color: var(--navy);
    }

    .digest-date {
      color: var(--gray);
      font-size: 0.8rem;
      margin-bottom: 0.6rem;
    }

    .digest-excerpt {
      margin-bottom: 1rem;
      flex: 1;
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    /* Newsletter Section */
    .newsletters {
      background-color: var(--bg-primary);
    }

    .newsletter-carousel {
      position: relative;
      overflow-x: auto;
      padding: 0.5rem 0;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    
    .newsletter-carousel::-webkit-scrollbar {
      display: none;
    }

    .newsletter-grid {
      display: flex;
      gap: 1.2rem;
      padding: 0.5rem;
    }

    .newsletter-card {
      background: var(--card-bg);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 6px var(--shadow-color);
      transition: transform 0.3s;
      display: flex;
      flex-direction: column;
      flex: 0 0 calc(33.333% - 1rem);
      min-width: 250px;
      cursor: pointer;
    }

    .newsletter-card:hover {
      transform: translateY(-3px);
    }

    .newsletter-img-container {
      height: 120px;
      overflow: hidden;
    }

    .newsletter-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .newsletter-card:hover .newsletter-img {
      transform: scale(1.05);
    }

    .newsletter-content {
      padding: 1rem;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .newsletter-category {
      display: inline-block;
      background: var(--gold);
      color: var(--navy);
      padding: 0.2rem 0.6rem;
      border-radius: 15px;
      font-size: 0.7rem;
      margin-bottom: 0.4rem;
      font-weight: 600;
    }

    .newsletter-title {
      font-size: 1rem;
      margin-bottom: 0.4rem;
      color: var(--navy);
    }

    .newsletter-date {
      color: var(--gray);
      font-size: 0.8rem;
      margin-bottom: 0.6rem;
    }

    .newsletter-excerpt {
      margin-bottom: 1rem;
      flex: 1;
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    /* Challenges Section */
    .challenges {
      background-color: var(--bg-secondary);
      min-height: 400px;
    }

    .challenge-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.2rem;
    }

    .monthly-challenge {
      background: var(--card-bg);
      border-radius: 8px;
      padding: 1.2rem;
      box-shadow: 0 4px 6px var(--shadow-color);
      margin-bottom: 1.2rem;
    }

    .challenge-progress {
      margin: 1rem 0;
    }

    .progress-bar {
      height: 14px;
      background: var(--border-color);
      border-radius: 7px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--accent);
      border-radius: 7px;
      transition: width 1s ease;
    }

    .progress-text {
      display: flex;
      justify-content: space-between;
      margin-top: 0.4rem;
      font-size: 0.8rem;
    }

    /* Events Section */
    .events {
      background-color: var(--bg-primary);
    }

    .events-carousel {
      position: relative;
      overflow-x: auto;
      padding: 0.5rem 0;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .upcoming-events {
      display: flex;
      gap: 1rem;
      padding: 0.5rem;
    }

    .event-card {
      background: var(--card-bg);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 6px var(--shadow-color);
      display: flex;
      flex-direction: column;
      flex: 0 0 calc(33.333% - 1rem);
      min-width: 220px;
    }

    .event-img-container {
      height: 100px;
      overflow: hidden;
    }

    .event-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .event-details {
      padding: 1rem;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .event-date {
      color: var(--gold);
      font-weight: bold;
      margin-bottom: 0.4rem;
      font-size: 0.85rem;
    }

    .event-title {
      font-size: 0.95rem;
      margin-bottom: 0.4rem;
      color: var(--navy);
    }

    .event-location {
      color: var(--gray);
      font-size: 0.8rem;
      margin-bottom: 0.6rem;
    }

    .event-description {
      margin-bottom: 1rem;
      flex: 1;
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    .register-btn {
      display: inline-block;
      background: var(--navy);
      color: var(--white);
      padding: 0.5rem 1rem;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 600;
      transition: background 0.3s;
      align-self: flex-start;
      border: none;
      cursor: pointer;
      font-size: 0.85rem;
    }

    .register-btn:hover {
      background: var(--navy-light);
    }

    /* Challenge Info Modal */
    .challenge-info-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .challenge-info-content {
      background: var(--bg-primary);
      border-radius: 8px;
      width: 100%;
      max-width: 500px;
      padding: 1.2rem;
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 10px 30px var(--shadow-color);
    }

    .challenge-info-close {
      position: absolute;
      top: 0.6rem;
      right: 0.6rem;
      background: none;
      border: none;
      font-size: 1.3rem;
      cursor: pointer;
      color: var(--navy);
      padding: 0.2rem;
      z-index: 10;
    }

    .challenge-info-title {
      color: var(--navy);
      margin-bottom: 0.8rem;
      font-size: 1.3rem;
      padding-bottom: 0.4rem;
      border-bottom: 2px solid var(--gold);
    }

    .challenge-info-body {
      line-height: 1.5;
    }

    .challenge-info-body h4 {
      color: var(--navy);
      margin: 0.8rem 0 0.4rem 0;
    }

    .challenge-info-body ul {
      margin-left: 1.2rem;
      margin-bottom: 0.8rem;
    }

    .challenge-info-body li {
      margin-bottom: 0.4rem;
    }

    /* Google Forms Container */
    .google-form-container {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .form-container {
      background: var(--bg-primary);
      border-radius: 8px;
      width: 100%;
      max-width: 800px;
      padding: 1.2rem;
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 10px 30px var(--shadow-color);
    }

    .close-form {
      position: absolute;
      top: 0.6rem;
      right: 0.6rem;
      background: none;
      border: none;
      font-size: 1.3rem;
      cursor: pointer;
      color: var(--navy);
      padding: 0.2rem;
      z-index: 10;
    }

    .form-title {
      color: var(--navy);
      margin-bottom: 1.2rem;
      font-size: 1.3rem;
      padding-bottom: 0.4rem;
      border-bottom: 2px solid var(--gold);
    }

    .google-form-frame {
      width: 100%;
      height: 450px;
      border: none;
      border-radius: 4px;
    }

    /* Newsletter/Digest Detail Pages */
    .newsletter-detail {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-primary);
      z-index: 1001;
      overflow-y: auto;
      padding: 1.5rem 1rem;
    }

    .newsletter-detail.active {
      display: block;
    }

    .newsletter-detail-content {
      max-width: 800px;
      margin: 0 auto;
      background: var(--card-bg);
      border-radius: 8px;
      box-shadow: 0 10px 30px var(--shadow-color);
      overflow: hidden;
    }

    .newsletter-detail-header {
      background: var(--navy);
      color: var(--white);
      padding: 1.5rem;
      position: relative;
    }

    .newsletter-detail-close {
      position: absolute;
      top: 0.8rem;
      right: 0.8rem;
      background: var(--gold);
      color: var(--navy);
      border: none;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      font-size: 1.3rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      transition: all 0.3s;
    }

    .newsletter-detail-close:hover {
      background: var(--white);
      transform: scale(1.1);
    }

    .newsletter-detail-category {
      display: inline-block;
      background: var(--gold);
      color: var(--navy);
      padding: 0.4rem 0.8rem;
      border-radius: 15px;
      font-size: 0.8rem;
      margin-bottom: 0.8rem;
      font-weight: 600;
    }

    .newsletter-detail-title {
      font-size: 1.5rem;
      margin-bottom: 0.4rem;
    }

    .newsletter-detail-date {
      font-size: 0.9rem;
      opacity: 0.8;
    }

    .newsletter-detail-body {
      padding: 1.5rem;
    }

    .newsletter-detail-image {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 4px;
      margin-bottom: 1.2rem;
    }

    .newsletter-detail-text {
      line-height: 1.6;
      font-size: 1rem;
    }

    .newsletter-detail-text h4 {
      color: var(--navy);
      margin: 1.2rem 0 0.8rem 0;
      border-bottom: 2px solid var(--gold);
      padding-bottom: 0.4rem;
    }

    .newsletter-detail-text h3 {
      color: var(--navy);
      margin: 1rem 0 0.6rem 0;
    }

    .newsletter-detail-text ul, .newsletter-detail-text ol {
      margin: 0.8rem 0 0.8rem 1.2rem;
    }

    .newsletter-detail-text li {
      margin-bottom: 0.4rem;
    }

    .newsletter-detail-text strong {
      color: var(--navy);
    }

    /* Challenge Info Button */
    .challenge-info-btn {
      display: inline-block;
      background: var(--gold);
      color: var(--navy);
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 600;
      transition: background 0.3s;
      align-self: flex-start;
      border: none;
      cursor: pointer;
      font-size: 0.75rem;
      margin-top: 0.4rem;
    }

    /* Testimonials Section Styles */
    .testimonials {
      background-color: var(--bg-primary);
      padding: 1.5rem 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .testimonials-container {
      position: relative;
      overflow: hidden;
      margin-bottom: 1.5rem;
    }

    .testimonials-track {
      display: flex;
      transition: transform 0.5s ease;
    }

    .testimonial-slide {
      flex: 0 0 100%;
      padding: 0.8rem;
      box-sizing: border-box;
    }

    .testimonial-card {
      background: var(--card-bg);
      border-radius: 8px;
      padding: 1.2rem;
      box-shadow: 0 4px 6px var(--shadow-color);
      text-align: center;
      position: relative;
      max-width: 800px;
      margin: 0 auto;
    }

    .testimonial-quote {
      font-size: 1.3rem;
      color: var(--gold);
      margin-bottom: 0.8rem;
    }

    .testimonial-text {
      font-style: italic;
      margin-bottom: 1.2rem;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    .testimonial-author {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.8rem;
    }

    .testimonial-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
    }

    .testimonial-author-info h4 {
      color: var(--navy);
      margin-bottom: 0.2rem;
    }

    .testimonial-author-info p {
      color: var(--gray);
      font-size: 0.85rem;
    }

    .testimonial-indicators {
      display: flex;
      justify-content: center;
      gap: 0.4rem;
      margin-top: 0.8rem;
    }

    .testimonial-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: var(--border-color);
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .testimonial-indicator.active {
      background-color: var(--navy);
    }

    .testimonial-share-btn {
      display: block;
      margin: 0 auto;
      background: var(--navy);
      color: var(--white);
      border: none;
      padding: 0.6rem 1.2rem;
      border-radius: 4px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
      font-size: 0.9rem;
      text-decoration: none;
      width: fit-content;
    }

    .testimonial-share-btn:hover {
      background: var(--navy-light);
    }

    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: var(--bg-primary);
      box-shadow: 0 -2px 10px var(--shadow-color);
      display: flex;
      justify-content: space-around;
      padding: 0.4rem 0;
      z-index: 1000;
    }
    
    .bottom-nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-decoration: none;
      color: var(--text-secondary);
      font-size: 0.65rem;
      padding: 0.2rem;
      transition: color 0.3s;
      flex: 1;
      max-width: 25%;
    }
    
    .bottom-nav-item.active {
      color: var(--navy);
    }
    
    .bottom-nav-icon {
      font-size: 1.1rem;
      margin-bottom: 0.1rem;
    }
    
    .bottom-nav-label {
      font-weight: 500;
    }

    .challenge-info-btn:hover {
      background: #e6c200;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .testimonial-card {
        padding: 1rem;
      }
      
      .testimonial-text {
        font-size: 0.85rem;
      }

      body {
        font-size: 14px;
      }

      .section-title {
        font-size: 1.2rem;
      }

      .digest-card,
      .newsletter-card,
      .event-card {
        min-width: 85vw;
      }

      .install-buttons {
        flex-direction: column;
        align-items: center;
      }

      .pwa-direct-install,
      .show-install-guide {
        width: 100%;
        max-width: 250px;
        justify-content: center;
      }
    }

    @media (max-width: 1024px) {
      .newsletter-card,
      .event-card,
      .digest-card {
        flex: 0 0 calc(50% - 1rem);
      }
    }

    @media (max-width: 768px) {
      nav {
        padding: 0.8rem;
      }

      .nav-links {
        display: none;
        position: fixed;
        top: 60px;
        left: 0;
        width: 100%;
        background: var(--navy);
        flex-direction: column;
        padding: 1rem;
        box-shadow: 0 4px 6px var(--shadow-color);
        z-index: 99;
        gap: 0;
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links a {
        padding: 1rem;
        border-bottom: 1px solid var(--border-color);
        width: 100%;
        color: var(--white);
      }

      .mobile-menu-btn {
        display: block;
      }

      section {
        padding: 1.2rem 0.8rem;
      }
      
      .newsletter-card,
      .event-card,
      .digest-card {
        flex: 0 0 100%;
      }

      .newsletter-detail-title {
        font-size: 1.3rem;
      }

      .newsletter-detail-body {
        padding: 1.2rem;
      }

      .form-container {
        padding: 1rem;
      }

      .challenge-info-content {
        padding: 1rem;
      }
      
      .google-form-frame {
        height: 400px;
      }

      .pwa-install-btn {
        display: none !important;
      }
    }

    /* PWA standalone mode adjustments */
    @media all and (display-mode: standalone) {
      body {
        padding-top: env(safe-area-inset-top);
        padding-bottom: calc(env(safe-area-inset-bottom) + 4rem);
      }

      header {
        padding-top: env(safe-area-inset-top);
      }

      .pwa-install-btn,
      .fullscreen-btn {
        display: none !important;
      }
    }
  </style>
</head>
<body>
  <!-- PWA Install Button -->
  <button class="pwa-install-btn" id="pwaInstallBtn">
    <i class="fas fa-download"></i> Install App
  </button>

   <header>
    <nav>
      <img src="https://i.postimg.cc/9fbXQC1m/Whats-App-Image-2025-10-04-at-06-52-57-removebg-preview-1.png" alt="WorkFit Logo" class="logo">
      <button class="mobile-menu-btn" id="menuBtn">
        <i class="fas fa-bars"></i>
      </button>
      <div class="nav-links" id="navLinks">
        <a href="plans-wpa.html">Our Plans</a>
        <a href="tutorials-wpa.html">Tutorials</a>
        <a href="Blogs.html">Blogs</a>
        <a href="Store.html">WorkFit Store</a>
        <a href="Contacts.html">Contacts</a>
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="themeIcon">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/>
          </svg>
        </button>
      </div>
    </nav>
    
    <!-- Direct PWA Installation Section -->
    <section class="pwa-install-section">
      <h3>Install WorkFit App</h3>
      <p>Get the full app experience on your device</p>
      <div class="install-buttons">
        <!-- Direct install for supported browsers -->
        <button class="pwa-direct-install" id="pwaDirectInstall">
          <i class="fas fa-download"></i> Install App Now
        </button>
        
        <!-- Manual install instructions -->
        <button class="show-install-guide" id="showInstallGuide">
          <i class="fas fa-info-circle"></i> How to Install
        </button>
      </div>
    </section>

    <!-- Installation Guide Modal -->
    <div class="install-guide-modal" id="installGuideModal">
      <div class="install-guide-content">
        <button class="close-guide" id="closeGuide">&times;</button>
        <h3>How to Install WorkFit</h3>
        
        <div class="install-steps">
          <div class="step">
            <h4>📱 Mobile (Chrome/Edge)</h4>
            <p>1. Tap the menu (⋮) → "Add to Home screen"</p>
          </div>
          
          <div class="step">
            <h4>📱 Mobile (Safari)</h4>
            <p>1. Tap the share icon (□ with ↑) → "Add to Home Screen"</p>
          </div>
          
          <div class="step">
            <h4>💻 Desktop (Chrome/Edge)</h4>
            <p>1. Click the install icon (⎙) in the address bar</p>
          </div>
        </div>
        
        <button class="close-guide-btn" id="closeGuideBtn">
          Got it!
        </button>
      </div>
    </div>
  </header>
    <!-- QR Code Section -->
  <div class="qr-section" style="text-align: center; padding: 1rem; background: var(--bg-secondary); border-radius: 8px; margin: 1rem 0;">
    <h4 style="color: var(--navy); margin-bottom: 1rem;">Scan to Install</h4>
    <div id="qrcode" style="display: inline-block; padding: 1rem; background: white; border-radius: 8px;"></div>
    <p style="margin-top: 1rem; color: var(--gray); font-size: 0.8rem;">
      Scan this QR code with your phone's camera to install the app
    </p>
  </div>

  <section class="digest" id="digest">
    <h2 class="section-title">Weekly Digest</h2>
    <div class="digest-carousel">
      <div class="digest-track" id="digestTrack">
        <div class="digest-card" data-newsletter-id="furnace-paragraph">
          <div class="digest-img-container">
          <img src="https://images.unsplash.com/photo-1723731065038-580d5f55c7f5?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="A person wearing athletic clothing is holding a dumbbell in a gym setting. The individual is focused and determined, embodying a tone of motivation and strength." class="digest-img">
          </div>
          <div class="digest-content">
            <span class="digest-category">WorkFit Terminology</span>
            <h3 class="digest-title">What is a Furnace?</h3>
            <p class="digest-date">October 1, 2025</p>
            <p class="digest-excerpt">Discover what a "Furnace" means at WorkFit and how it shapes our team spirit and fitness journey.</p>
          </div>
        </div>
        
        <div class="digest-card" data-newsletter-id="new-furnace-detail">
          <div class="digest-img-container">
            <img src="https://i.postimg.cc/prGQXpbX/FUN-3.png" alt="Strength Training" class="digest-img">
          </div>
          <div class="digest-content">
            <span class="digest-category">Monthly Event</span>
            <h3 class="digest-title">WorkFit Fun Run</h3>
            <p class="digest-date">Oct 05, 2025</p>
            <p class="digest-excerpt">Our end of the month event is here with us. Please register at the events section!</p>
          </div>
        </div>
                
        <div class="digest-card" data-newsletter-id="wangige-furnace-detail">
          <div class="digest-img-container">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSqD8saJCFclbTIxzuZO_Xb4gB3mSbPmKd8tQ&s" alt="Wangige Furnace Team Event" class="digest-img">
          </div>
          <div class="digest-content">
            <span class="digest-category">Upcoming Furnace</span>
            <h3 class="digest-title">Wangige Furnace</h3>
            <p class="digest-date">Oct 01, 2025</p>
            <p class="digest-excerpt">The Wangige Furnace is an upcoming vibrant and energetic club within WorkFit, set to unite fitness enthusiasts from the Wangige area and beyond. Stay tuned for updates!</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="newsletters" id="newsletters">
    <h2 class="section-title">Latest Newsletters</h2>
    <div class="newsletter-carousel">
      <div class="newsletter-grid">
        <div class="newsletter-card" data-newsletter-id="meal-plan-paragraph">
          <div class="newsletter-img-container">
            <img src="https://i.postimg.cc/8kY3SWTj/pngwing-com-3-removebg-preview.png" alt="Healthy Meal Plan" class="newsletter-img">
          </div>
          <div class="newsletter-content">
            <span class="newsletter-category">Meal Plan</span>
            <h3 class="newsletter-title">Sugar and Fitness</h3>
            <p class="newsletter-date">October 5, 2025</p>
            <p class="newsletter-excerpt">Sugar often gets a bad reputation in the fitness world, but the key to harnessing its power lies in understanding the importance of controlled quantities</p>
          </div>
        </div>
        
        <div class="newsletter-card" data-newsletter-id="workout-paragraph">
          <div class="newsletter-img-container">
            <img src="https://i.postimg.cc/C5vJm3m0/pngwing-com-6-removebg-preview.png" alt="Strength Training" class="newsletter-img">
          </div>
          <div class="newsletter-content">
            <span class="newsletter-category">Workout Types</span>
            <h3 class="newsletter-title">Family Fitness Fun</h3>
            <p class="newsletter-date">Oct 5, 2025</p>
            <p class="newsletter-excerpt">A healthy, active lifestyle is something the whole family can enjoy together right at home. By turning fitness into fun, shared experiences, you can build lasting habits, strengthen bonds, and boost everyone's energy and well-being without needing a gym.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Newsletter Detail Pages -->
  <div id="meal-plan-paragraph" class="newsletter-detail">
    <div class="newsletter-detail-content">
      <div class="newsletter-detail-header">
        <button class="newsletter-detail-close">&times;</button>
        <span class="newsletter-detail-category">Meal Plan</span>
        <h1 class="newsletter-detail-title">Sugar and Fitness</h1>
        <p class="newsletter-detail-date">October 5, 2025</p>
      </div>
      <div class="newsletter-detail-body">
        <img src="https://i.postimg.cc/8kY3SWTj/pngwing-com-3-removebg-preview.png" alt="Healthy Meal Plan" class="newsletter-detail-image">
        <div class="newsletter-detail-text">
          <h2>Sugar and Fitness: Finding the Right Balance</h2> <p>Sugar often gets a bad reputation in the fitness world, but the key to harnessing its power lies in understanding the importance of controlled quantities. Managing your sugar intake is crucial for maintaining stable energy, supporting your fitness goals, and promoting long-term health.</p>

        <h4>The Short-Term Effects of Sugar Imbalance</h4>
  <ul>
    <li><strong>Too Much Sugar:</strong> Can lead to rapid energy spikes followed by sharp crashes, leaving you feeling fatigued and sluggish during workouts.</li>
    <li><strong>Too Little Sugar:</strong> May result in low energy, dizziness, and an inability to power through intense training sessions, as your muscles are deprived of quick fuel.</li>
  </ul>

  <h4>The Long-Term Consequences of Improper Intake</h4>
  <ul>
    <li><strong>Chronic Overconsumption:</strong> Is linked to weight gain, increased risk of type 2 diabetes, heart disease, and chronic inflammation, which can hinder recovery.</li>
    <li><strong>Severe Restriction:</strong> Can disrupt hormonal balance, negatively impact metabolism, and lead to cravings that make a balanced diet difficult to maintain.</li>
  </ul>

  <h4>Choosing the Best Sugar Sources for Fitness</h4>
  <ul>
    <li><strong>Embrace Natural Sugars:</strong> Opt for whole fruits, which provide fructose along with essential fiber, vitamins, and antioxidants for sustained energy and recovery.</li>
    <li><strong>Smart Fueling Options:</strong> For fitness enthusiasts, the best choices include bananas before a workout for quick energy, or a spoonful of honey in your post-workout shake to replenish glycogen stores effectively.</li>
    <li><strong>Avoid Added Sugars:</strong> Limit processed foods, sugary drinks, and sweets, which offer "empty calories" without nutritional benefits.</li>
  </ul>

  <h4>The Right Mindset: Sugar as a Tool, Not a Treat</h4>
  <ul>
    <li>Shift your perspective to <strong>"When and why do I need this sugar?"</strong> Use it strategically to fuel performance and recovery, not as a daily indulgence.</li>
    <li>View controlled sugar intake as a key part of your athletic toolkit, helping you train harder and recover faster.</li>
    <li>Listen to your body's signals to distinguish between a genuine need for energy and a habitual craving, building a smarter relationship with your diet.</li>
  </ul>
        </div>
      </div>
    </div>
  </div>

  <div id="workout-paragraph" class="newsletter-detail">
    <div class="newsletter-detail-content">
      <div class="newsletter-detail-header">
        <button class="newsletter-detail-close">&times;</button>
        <span class="newsletter-detail-category">Workout Types</span>
        <h1 class="newsletter-detail-title">Family Fitness Fun</h1>
        <p class="newsletter-detail-date">October 1, 2025</p>
      </div>
      <div class="newsletter-detail-body">
        <img src="https://i.postimg.cc/C5vJm3m0/pngwing-com-6-removebg-preview.png" alt="Strength Training" class="newsletter-detail-image">
        <div class="newsletter-detail-text">
                <h2>Family Fitness Fun: The Best Activities to Do at Home</h2>
<p>A healthy, active lifestyle is something the whole family can enjoy together right at home. By turning fitness into fun, shared experiences, you can build lasting habits, strengthen bonds, and boost everyone's energy and well-being without needing a gym.</p>

<h4>Active Games & Playful Challenges</h4>
<p>Transform your living space into a playground with these engaging ideas:</p>
<ul>
  <li><strong>Obstacle Course Challenge:</strong> Use pillows, chairs, and blankets to create a safe course. Time each other for crawling, jumping, and balancing.</li>
  <li><strong>Dance Party Freeze:</strong> Have a family dance party and when the music stops, everyone must freeze in a funny pose. It's great for cardio and laughs.</li>
  <li><strong>Animal Races:</strong> Crab walks, bear crawls, and frog jumps across the room. This builds strength and flexibility in a playful way.</li>
  <li><strong>Yoga & Story Time:</strong> Follow a kid-friendly yoga video or create your own story where each pose is part of an adventure (e.g., "tree pose" in a magical forest).</li>
</ul>

<h4>What to Avoid: Keeping it Positive</h4>
<ul>
  <li><strong>Avoid Making it a Chore:</strong> Frame it as "playtime" or a "game," not a workout. The goal is fun first, fitness second.</li>
  <li><strong>Don't Focus on Winning:</strong> Emphasize participation and teamwork over competition to keep the atmosphere light and inclusive for all ages and abilities.</li>
  <li><strong>Stop if It's Not Fun:</strong> If an activity is causing frustration, pivot to something else. The best family habit is one everyone looks forward to.</li>
</ul>

<h4>Avoid in Activity Planning: Setting Up for Success</h4>
<ul>
  <li><strong>Avert Over-Complexity:</strong> You don't need special equipment. Use what you have to keep it simple and stress-free.</li>
  <li><strong>Don't Force It:</strong> If someone isn't in the mood, invite them to join later or be the "cheerleader." Forced participation can create negative associations.</li>
  <li><strong>Avoid an Unrealistic Schedule:</strong> Start with short, 15-20 minute sessions. Consistency with a small, fun habit is better than an ambitious plan that fizzles out.</li>
</ul>

<h4>The Right Mindset: Connection Over Perfection</h4>
<ul>
  <li><strong>Focus on Togetherness:</strong> The primary goal is bonding and creating joyful memories. The health benefits are a wonderful bonus.</li>
  <li><strong>Celebrate the Effort:</strong> Applaud everyone's participation and creativity, not just physical skill. This builds confidence and a positive body image.</li>
  <li><strong>View it as Quality Time:</strong> Shift from "we have to exercise" to "we get to play and connect." This mindset fosters a lifelong love for movement for your whole family.</li>
</ul>

<p>By integrating these fun, home-based activities, you foster a family environment where fitness is a source of joy, laughter, and shared connection.</p>
        </div>
      </div>
    </div>
  </div>

  <div id="furnace-paragraph" class="newsletter-detail">
    <div class="newsletter-detail-content">
      <div class="newsletter-detail-header">
        <button class="newsletter-detail-close">&times;</button>
        <span class="newsletter-detail-category">WorkFit Terminology</span>
        <h1 class="newsletter-detail-title">What is a Furnace?</h1>
        <p class="newsletter-detail-date">October 1, 2025</p>
      </div>
      <div class="newsletter-detail-body">
        <img src="https://images.unsplash.com/photo-1723731065038-580d5f55c7f5?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="A person wearing athletic clothing holds a dumbbell in a gym. The individual is focused and determined, embodying motivation and strength." class="newsletter-detail-image">
        <div class="newsletter-detail-text">
          <h4>What is a Furnace?</h4>
          <p>Furnace /ˈfəːnɪs/ : 
an enclosed structure in which material can be heated to very high temperatures, e.g. for smelting metals.</p>

          <h4>WorkFit Furnace as Clubs</h4>
            <p>At WorkFit, we use the term "Furnace" to refer to our clubs or teams. Each Furnace is a group of individuals who come together to support each other in their fitness journeys, whether through challenges, events, or daily workouts.</p>
        </div>
      </div>
    </div>
  </div>

  <div id="new-furnace-detail" class="newsletter-detail">
    <div class="newsletter-detail-content">
      <div class="newsletter-detail-header">
        <button class="newsletter-detail-close">&times;</button>
        <span class="newsletter-detail-category">Monthly Events</span>
      <h1 class="newsletter-detail-title">The WorkFit Fun Run</h1>
      <p class="newsletter-detail-date">October 1, 2025</p>
    </div>
    <div class="newsletter-detail-body">
      <img src="https://i.postimg.cc/prGQXpbX/FUN-3.png" alt="Uthiru Furnace Team Event" class="newsletter-detail-image">
      <div class="newsletter-detail-text">
        <p>
          The WorkFit Fun Run is an exciting upcoming event for the entire community, bringing together runners of all levels for a morning of fitness and fun. Our goal is to create a lively and encouraging environment where everyone can participate, challenge themselves, and enjoy the spirit of a shared athletic experience. The run will be held at the fantastic facilities of Jaffery's Sports Club.
        </p>
        <h4>Event Details:</h4>
        <ul>
          <li><strong>Open to All:</strong> This event is for anyone interested, from casual joggers to competitive runners.</li>
          <li><strong>Date & Time:</strong> Mark your calendars for the 1st of Sep 2025. The run starts at 8:00am.</li>
          <li><strong>The Course:</strong> We will target a 10km run along the running track.</li>
          <li><strong>Registration:</strong> Participation is free, but all members must register to participate.</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div id="wangige-furnace-detail" class="newsletter-detail">
    <div class="newsletter-detail-content">
        <div class="newsletter-detail-header">
            <button class="newsletter-detail-close">&times;</button>
            <span class="newsletter-detail-category">Upcoming Furnace</span>
            <h1 class="newsletter-detail-title">Wangige Furnace - Coming Soon!</h1>
            <p class="newsletter-detail-date">October 1, 2025</p>
        </div>
        <div class="newsletter-detail-body">
            <img src="https://alaninkenya.org/wordpress/wp-content/uploads/2011/12/swing_ride_uthiru.jpg" alt="Wangige Furnace Team Event" class="newsletter-detail-image">
            <div class="newsletter-detail-text">
                <h4>The Wangige Furnace - Get Ready!</h4>
                <p>
                    The Wangige Furnace is an upcoming vibrant and energetic club within WorkFit, set to unite fitness enthusiasts from the Wangige area and beyond. While we're not quite there yet, our mission is to foster a supportive community where members motivate each other to achieve their health and wellness goals through regular workouts, monthly challenges, and fun social events. We will be located along the Wangige roundabout area. Stay tuned for updates!
                </p>
                <h4>What We Envision:</h4>
                <ul>
                    <li><strong>Community Spirit:</strong> We will believe in teamwork, encouragement, and celebrating every member's progress, no matter how small.</li>
                    <li><strong>Workout Schedule:</strong> We plan to have sessions Tuesdays, Thursdays, and Saturdays from 5:00am - 6:30am for invigorating workout sessions.</li>
                    <li><strong>Local Events:</strong> Expect group runs in Wangige, weekend bootcamps, and nutrition workshops to keep our members engaged and active.</li>
                    <li><strong>Inclusive Atmosphere:</strong> Whether you're a beginner or a seasoned athlete, you'll find a place and a challenge that fits you.</li>
                </ul>
                <p>Keep an eye out for our launch date and be among the first to join the Wangige Furnace!</p>
            </div>
        </div>
    </div>
</div>

  <section class="challenges" id="challenges">
    <h2 class="section-title">October Challenges</h2>
    <div class="events-carousel" id="challenge-carousel" style="margin-bottom: 1.5rem;">
      <div class="upcoming-events" id="challenge-slides">
        <div class="event-card">
          <div class="event-img-container">
            <img src="https://i.postimg.cc/3JLrjQZG/20250929-1639-Outdoor-Mountain-Climbers-simple-compose-01k6atyjrgfccs8nnj0tmtpbaf-1.png" alt="Mountain Climbers Challenge" class="event-img">
          </div>
          <div class="event-details">
            <p class="event-date">Oct 2025</p>
            <h4 class="event-title">Mountain Climbers Challenge</h4>
            <p class="event-location">All Teams</p>
            <p class="event-description">Join our team challenge to complete 3,000 mountain climbers this month! Track your progress and cheer on your teammates.</p>
            <div class="challenge-progress">
              <div class="progress-bar">
                <div class="progress-fill" id="mountain-climbers-progress"></div>
              </div>
              <div class="progress-text">
                <span id="mountain-climbers-current">0 reps</span>
                <span id="mountain-climbers-percentage">0% Complete</span>
              </div>
            </div>
            <p id="mountain-climbers-remaining">30 days remaining - Keep pushing!</p>
            <button class="challenge-info-btn" data-challenge="mountain-climbers">How to do this challenge</button>
          </div>
        </div>
        <div class="event-card">
          <div class="event-img-container">
            <img src="https://i.postimg.cc/pLp0rKTw/20250929-1709-Outdoor-Plank-Workout-simple-compose-01k6awvva7f2zb7zxyrvdeh2mj.png" alt="Plank Challenge" class="event-img">
          </div>
          <div class="event-details">
            <p class="event-date">Oct 2025</p>
            <h4 class="event-title">Plank Hold Challenge</h4>
            <p class="event-location">All Teams</p>
            <p class="event-description">Hold a plank for a total of 60 minutes this month. Log your time daily and see your core strength soar!</p>
            <div class="challenge-progress">
              <div class="progress-bar">
                <div class="progress-fill" id="plank-progress"></div>
              </div>
              <div class="progress-text">
                <span id="plank-current">0 min</span>
                <span id="plank-percentage">0% Complete</span>
              </div>
            </div>
            <p id="plank-remaining">30 days remaining - Stay strong! Top performers get a feature in our newsletter.</p>
            <button class="challenge-info-btn" data-challenge="plank">How to do this challenge</button>
          </div>
        </div>
        <div class="event-card">
          <div class="event-img-container">
            <img src="https://i.postimg.cc/HWN8HMqJ/20250915-1528-Outdoor-Fitness-Gathering-simple-compose-01k56ngycze5psvn1p8wp7sbg9.png" alt="Steps Challenge" class="event-img">
          </div>
          <div class="event-details">
            <p class="event-date">Oct 2025</p>
            <h4 class="event-title">Step Up Challenge</h4>
            <p class="event-location">All Teams</p>
            <p class="event-description">This challenge requires you to do a total of 3,000 steps. You can achieve this by incorporating other workout activities scheduled for your day.</p>
            <div class="challenge-progress">
              <div class="progress-bar">
                <div class="progress-fill" id="steps-progress"></div>
              </div>
              <div class="progress-text">
                <span id="steps-current">0 steps</span>
                <span id="steps-percentage">0% Complete</span>
              </div>
            </div>
            <p id="steps-remaining">30 days remaining - Every step counts!</p>
            <button class="challenge-info-btn" data-challenge="steps">How to do this challenge</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="events" id="events">
    <h2 class="section-title">Upcoming Events</h2>
    <div class="events-carousel">
      <div class="upcoming-events">
        <div class="event-card">
          <div class="event-img-container">
            <img src="https://i.postimg.cc/prGQXpbX/FUN-3.png" alt="The WorkFit Fun Run" class="event-img">
          </div>
          <div class="event-details">
            <p class="event-date">Nov 01, 2025</p>
            <h4 class="event-title">The WorkFit Fun Run</h4>
            <p class="event-location">Nairobi Jaffery's Sports Club</p>
            <p class="event-description">Join us for a scenic 10km run with fitness activities scheduled for the day. Perfect for all fitness levels with multiple route options.</p>
            <button class="register-btn" data-event="The WorkFit Fun Run">Register Now</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials" id="testimonials">
    <h2 class="section-title">What Our Members Say</h2>
    <div class="testimonials-container">
      <div class="testimonials-track" id="testimonialsTrack">
        <div class="testimonial-slide">
          <div class="testimonial-card">
            <div class="testimonial-quote">
              <i class="fas fa-quote-left"></i>
            </div>
            <p class="testimonial-text">
              "Every session reminds me that growth takes consistency, not perfection. I am getting stronger, discipline and present-not just during the workout, but in every part of my life."
            </p>
            <div class="testimonial-author">
              <img src="https://i.postimg.cc/CM8wFsCW/FB-IMG-1747755806015-Annita-Kirwa.jpg" alt="Sarah Johnson" class="testimonial-avatar">
              <div class="testimonial-author-info">
                <h4>Annita</h4>
                <p>Uthiru Furnace
</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="testimonial-indicators" id="testimonialIndicators">
        <!-- Indicators will be added by JavaScript -->
      </div>
    </div>
    <button class="testimonial-share-btn" id="shareStoryBtn">
      Share Your Story
    </button>
  </section>

  <!-- Challenge Info Modal -->
  <div class="challenge-info-modal" id="challengeInfoModal">
    <div class="challenge-info-content">
      <button class="challenge-info-close" id="closeChallengeInfo">
        <i class="fas fa-times"></i>
      </button>
      <h3 class="challenge-info-title" id="challengeInfoTitle">Challenge Info</h3>
      <div class="challenge-info-body" id="challengeInfoBody">
        <!-- Content will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <!-- Google Forms Container -->
  <div class="google-form-container" id="googleFormContainer">
    <div class="form-container">
      <button class="close-form" id="closeGoogleForm">
        <i class="fas fa-times"></i>
      </button>
      <h3 class="form-title" id="googleFormTitle">Event Registration</h3>
      <iframe class="google-form-frame" id="googleFormFrame" src="" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <a href="index.html" class="bottom-nav-item active">
      <i class="fas fa-home bottom-nav-icon"></i>
      <span class="bottom-nav-label">Home</span>
    </a>
    <a href="Announcements-wpa.html" class="bottom-nav-item">
      <i class="fas fa-bullhorn bottom-nav-icon"></i>
      <span class="bottom-nav-label">Updates</span>
    </a>
    <a href="tracker-wpa.html" class="bottom-nav-item">
      <i class="fas fa-chart-line bottom-nav-icon"></i>
      <span class="bottom-nav-label">Tracker</span>
    </a>
    <a href="account.html" class="bottom-nav-item">
      <i class="fas fa-user bottom-nav-icon"></i>
      <span class="bottom-nav-label">Account</span>
    </a>
  </nav>

  <script>
  // Enhanced PWA Installation
  let deferredPrompt;
  const pwaInstallBtn = document.getElementById('pwaInstallBtn');
  const pwaDirectInstallBtn = document.getElementById('pwaDirectInstall');
  const showInstallGuideBtn = document.getElementById('showInstallGuide');
  const installGuideModal = document.getElementById('installGuideModal');
  const closeGuideBtn = document.getElementById('closeGuideBtn');
  const closeGuide = document.getElementById('closeGuide');

  // Listen for install prompt
  window.addEventListener('beforeinstallprompt', (e) => {
    console.log('beforeinstallprompt event fired');
    e.preventDefault();
    deferredPrompt = e;
    
    // Show the install buttons
    pwaInstallBtn.style.display = 'block';
    pwaDirectInstallBtn.style.display = 'flex';
    
    console.log('PWA install prompt available');
  });

  // Handle direct install button click
  pwaDirectInstallBtn.addEventListener('click', async () => {
    if (!deferredPrompt) {
      // If no prompt available, show the guide
      installGuideModal.style.display = 'flex';
      return;
    }

    console.log('Showing install prompt');
    deferredPrompt.prompt();
    
    const { outcome } = await deferredPrompt.userChoice;
    console.log(`User response to the install prompt: ${outcome}`);
    
    if (outcome === 'accepted') {
      pwaInstallBtn.style.display = 'none';
      pwaDirectInstallBtn.style.display = 'none';
      console.log('PWA installed successfully');
    } else {
      console.log('User dismissed the install prompt');
    }
    
    deferredPrompt = null;
  });

  // Handle install guide button click
  showInstallGuideBtn.addEventListener('click', () => {
    installGuideModal.style.display = 'flex';
  });

  // Close install guide
  closeGuideBtn.addEventListener('click', () => {
    installGuideModal.style.display = 'none';
  });

  closeGuide.addEventListener('click', () => {
    installGuideModal.style.display = 'none';
  });

  // Close guide when clicking outside
  installGuideModal.addEventListener('click', (e) => {
    if (e.target === installGuideModal) {
      installGuideModal.style.display = 'none';
    }
  });

  // App installed event
  window.addEventListener('appinstalled', (evt) => {
    console.log('PWA was successfully installed');
    pwaInstallBtn.style.display = 'none';
    pwaDirectInstallBtn.style.display = 'none';
    deferredPrompt = null;
  });

  // Fullscreen functionality
  const fullscreenBtn = document.getElementById('fullscreenBtn');
  
  if (fullscreenBtn) {
    fullscreenBtn.addEventListener('click', toggleFullscreen);
  }
  
  function toggleFullscreen() {
    if (!document.fullscreenElement) {
      enterFullscreen();
    } else {
      exitFullscreen();
    }
  }
  
  function enterFullscreen() {
    const elem = document.documentElement;
    if (elem.requestFullscreen) elem.requestFullscreen();
    else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
    else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
  }
  
  function exitFullscreen() {
    if (document.exitFullscreen) document.exitFullscreen();
    else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
    else if (document.msExitFullscreen) document.msExitFullscreen();
  }

  // Enhanced Service Worker Registration
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      console.log('Registering Service Worker...');
      
      // For GitHub Pages with repository name
      const swUrl = 'sw.js';
      
      navigator.serviceWorker.register(swUrl)
        .then(function(registration) {
          console.log('SW registered: ', registration);
          console.log('Scope: ', registration.scope);
        })
        .catch(function(registrationError) {
          console.log('SW registration failed: ', registrationError);
          
          // Fallback: Try without scope
          navigator.serviceWorker.register(swUrl, { scope: './' })
            .then(function(registration) {
              console.log('SW registered with fallback scope: ', registration);
            })
            .catch(function(fallbackError) {
              console.log('Fallback SW registration failed: ', fallbackError);
            });
        });
    });
  }

  // Theme Management
  const themeToggle = document.getElementById('themeToggle');
  const themeIcon = document.getElementById('themeIcon');
  const htmlElement = document.documentElement;
  
  // Check for saved theme preference or use system preference
  const savedTheme = localStorage.getItem('theme');
  const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  
  // Set initial theme
  if (savedTheme) {
    htmlElement.setAttribute('data-theme', savedTheme);
    updateThemeIcon(savedTheme);
  } else if (systemPrefersDark) {
    htmlElement.setAttribute('data-theme', 'dark');
    updateThemeIcon('dark');
  }
  
  // Theme toggle functionality
  if (themeToggle) {
    themeToggle.addEventListener('click', function() {
      const currentTheme = htmlElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      
      htmlElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateThemeIcon(newTheme);
    });
  }
  
  function updateThemeIcon(theme) {
    if (!themeIcon) return;
    
    if (theme === 'dark') {
      themeIcon.innerHTML = '<path d="M0 0h24v24H0z" fill="none"/><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/>';
    } else {
      themeIcon.innerHTML = '<path d="M0 0h24v24H0z" fill="none"/><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/>';
    }
  }
  
  // Listen for system theme changes
  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
    if (!localStorage.getItem('theme')) {
      const newTheme = e.matches ? 'dark' : 'light';
      htmlElement.setAttribute('data-theme', newTheme);
      updateThemeIcon(newTheme);
    }
  });

  // Mobile Menu Toggle
  const menuBtn = document.getElementById('menuBtn');
  const navLinks = document.getElementById('navLinks');
  
  if (menuBtn && navLinks) {
    menuBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      navLinks.classList.toggle('active');
      
      const icon = menuBtn.querySelector('i');
      if (navLinks.classList.contains('active')) {
        icon.classList.remove('fa-bars');
        icon.classList.add('fa-times');
      } else {
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      }
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
      if (!navLinks.contains(e.target) && !menuBtn.contains(e.target) && navLinks.classList.contains('active')) {
        navLinks.classList.remove('active');
        const icon = menuBtn.querySelector('i');
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      }
    });
    
    // Prevent clicks inside nav from closing it
    navLinks.addEventListener('click', (e) => {
      e.stopPropagation();
    });
  }

  // Smooth scrolling for navigation
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      if (this.getAttribute('href') !== '#') {
        e.preventDefault();
      }
      
      // Close mobile menu if open
      if (navLinks && navLinks.classList.contains('active')) {
        navLinks.classList.remove('active');
        const icon = menuBtn.querySelector('i');
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      }
      
      // Scroll to section
      if (this.getAttribute('href') !== '#') {
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth'
          });
        }
      }
    });
  });

  // Google Forms Management
  const googleFormContainer = document.getElementById('googleFormContainer');
  const closeGoogleForm = document.getElementById('closeGoogleForm');
  const googleFormTitle = document.getElementById('googleFormTitle');
  const googleFormFrame = document.getElementById('googleFormFrame');
  const shareStoryBtn = document.getElementById('shareStoryBtn');
  
  // Show Google Form when clicking register buttons
  document.querySelectorAll('.register-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      const eventName = btn.dataset.event;
      if (googleFormTitle) googleFormTitle.textContent = `Register for ${eventName}`;
      if (googleFormFrame) googleFormFrame.src = 'https://docs.google.com/forms/d/e/1FAIpQLSeTCvSffnUp_DEAeEZ1dQcN4nS2iFx7tfTensQEtOK_PHbdPw/viewform?embedded=true';
      if (googleFormContainer) googleFormContainer.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    });
  });
  
  // Show Google Form for sharing stories
  if (shareStoryBtn) {
    shareStoryBtn.addEventListener('click', (e) => {
      e.preventDefault();
      if (googleFormTitle) googleFormTitle.textContent = 'Share Your Story';
      if (googleFormFrame) googleFormFrame.src = 'https://docs.google.com/forms/d/e/1FAIpQLSfWXK0nSlM6RziNALvcnHJoLXrfG4eQTj3npnBDjKaN8wuQvg/viewform?embedded=true';
      if (googleFormContainer) googleFormContainer.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    });
  }
  
  // Close Google Form
  if (closeGoogleForm) {
    closeGoogleForm.addEventListener('click', () => {
      if (googleFormContainer) googleFormContainer.style.display = 'none';
      document.body.style.overflow = 'auto';
      if (googleFormFrame) googleFormFrame.src = '';
    });
  }
  
  // Close form when clicking outside
  if (googleFormContainer) {
    googleFormContainer.addEventListener('click', (e) => {
      if (e.target === googleFormContainer) {
        googleFormContainer.style.display = 'none';
        document.body.style.overflow = 'auto';
        if (googleFormFrame) googleFormFrame.src = '';
      }
    });
  }

  // Challenge Progress Tracking
  function updateChallengeProgress() {
    // Set start date to October 1, 2025
    const startDate = new Date('2025-10-01');
    const today = new Date();
    
    // Calculate days passed in October (max 30 days)
    const daysPassed = Math.min(Math.max(0, Math.floor((today - startDate) / (1000 * 60 * 60 * 24))), 30);
    
    // Mountain Climbers Challenge (100 reps per day)
    const mountainClimbersTotal = 3000;
    const mountainClimbersCurrent = Math.min(daysPassed * 100, mountainClimbersTotal);
    const mountainClimbersPercentage = Math.round((mountainClimbersCurrent / mountainClimbersTotal) * 100);
    
    const mountainClimbersProgress = document.getElementById('mountain-climbers-progress');
    const mountainClimbersCurrentEl = document.getElementById('mountain-climbers-current');
    const mountainClimbersPercentageEl = document.getElementById('mountain-climbers-percentage');
    const mountainClimbersRemaining = document.getElementById('mountain-climbers-remaining');
    
    if (mountainClimbersProgress) mountainClimbersProgress.style.width = `${mountainClimbersPercentage}%`;
    if (mountainClimbersCurrentEl) mountainClimbersCurrentEl.textContent = `${mountainClimbersCurrent} reps`;
    if (mountainClimbersPercentageEl) mountainClimbersPercentageEl.textContent = `${mountainClimbersPercentage}% Complete`;
    if (mountainClimbersRemaining) mountainClimbersRemaining.textContent = `${30 - daysPassed} days remaining - Keep pushing!`;
    
    // Plank Challenge (2 minutes per day)
    const plankTotal = 60; // minutes
    const plankCurrent = Math.min(daysPassed * 2, plankTotal);
    const plankPercentage = Math.round((plankCurrent / plankTotal) * 100);
    
    const plankProgress = document.getElementById('plank-progress');
    const plankCurrentEl = document.getElementById('plank-current');
    const plankPercentageEl = document.getElementById('plank-percentage');
    const plankRemaining = document.getElementById('plank-remaining');
    
    if (plankProgress) plankProgress.style.width = `${plankPercentage}%`;
    if (plankCurrentEl) plankCurrentEl.textContent = `${plankCurrent} min`;
    if (plankPercentageEl) plankPercentageEl.textContent = `${plankPercentage}% Complete`;
    if (plankRemaining) plankRemaining.textContent = `${30 - daysPassed} days remaining - Stay strong! Top performers get a feature in our newsletter.`;
    
    // Steps Challenge (100 steps per day)
    const stepsTotal = 3000;
    const stepsCurrent = Math.min(daysPassed * 100, stepsTotal);
    const stepsPercentage = Math.round((stepsCurrent / stepsTotal) * 100);
    
    const stepsProgress = document.getElementById('steps-progress');
    const stepsCurrentEl = document.getElementById('steps-current');
    const stepsPercentageEl = document.getElementById('steps-percentage');
    const stepsRemaining = document.getElementById('steps-remaining');
    
    if (stepsProgress) stepsProgress.style.width = `${stepsPercentage}%`;
    if (stepsCurrentEl) stepsCurrentEl.textContent = `${stepsCurrent} steps`;
    if (stepsPercentageEl) stepsPercentageEl.textContent = `${stepsPercentage}% Complete`;
    if (stepsRemaining) stepsRemaining.textContent = `${30 - daysPassed} days remaining - Every step counts! Prizes for the most consistent team.`;
  }
  
  // Initialize challenge progress
  updateChallengeProgress();
  
  // Challenge Info Modal
  const challengeInfoModal = document.getElementById('challengeInfoModal');
  const closeChallengeInfo = document.getElementById('closeChallengeInfo');
  const challengeInfoTitle = document.getElementById('challengeInfoTitle');
  const challengeInfoBody = document.getElementById('challengeInfoBody');
  
  // Challenge information content
  const challengeInfo = {
    'mountain-climbers': {
      title: 'Mountain Climbers Challenge',
      content: `
        <h4>How to Do Mountain Climbers</h4>
        <p>Mountain climbers are a great full-body exercise that targets your core, shoulders, and legs.</p>
        <h4>Proper Form:</h4>
        <ul>
          <li>Start in a high plank position with your hands directly under your shoulders</li>
          <li>Keep your core tight and your body in a straight line from head to heels</li>
          <li>Bring one knee towards your chest, then quickly switch legs</li>
          <li>Move in a controlled, running motion</li>
          <li>Aim for 100 reps per day (can be broken into sets)</li>
        </ul>
        <h4>Tips:</h4>
        <ul>
          <li>Keep your hips level - don't let them sag or rise too high</li>
          <li>Breathe steadily throughout the movement</li>
          <li>Start slowly and focus on form before increasing speed</li>
          <li>You can do 4 sets of 25 reps throughout the day</li>
        </ul>
      `
    },
    'plank': {
      title: 'Plank Hold Challenge',
      content: `
        <h4>How to Do Planks</h4>
        <p>Planks are excellent for building core strength and stability.</p>
        <h4>Proper Form:</h4>
        <ul>
          <li>Place your forearms on the ground with elbows aligned below shoulders</li>
          <li>Extend your legs back and balance on your toes</li>
          <li>Keep your body in a straight line from head to heels</li>
          <li>Engage your core and glutes to prevent your hips from sagging</li>
          <li>Aim for 2 minutes total per day (can be broken into multiple holds)</li>
        </ul>
        <h4>Tips:</h4>
        <ul>
          <li>Don't hold your breath - breathe deeply and steadily</li>
          <li>If 2 minutes is too much, start with 30-second holds and work your way up</li>
          <li>You can do 4 sets of 30 seconds throughout the day</li>
          <li>Focus on maintaining proper form rather than duration</li>
        </ul>
      `
    },
    'steps': {
      title: 'Step Up Challenge',
      content: `
        <h4>How to Complete the Step Challenge</h4>
        <p>This challenge helps improve cardiovascular health and overall activity levels.</p>
        <h4>Ways to Accumulate Steps:</h4>
        <ul>
          <li>Take a brisk walk during breaks</li>
          <li>Use stairs instead of elevators</li>
          <li>Park farther from your destination</li>
          <li>Take walking meetings when possible</li>
          <li>Do step-based exercises like step-ups or jumping jacks</li>
          <li>Aim for 100 steps per day as part of your regular activities</li>
        </ul>
        <h4>Tips:</h4>
        <ul>
          <li>Break your steps into smaller chunks throughout the day</li>
          <li>Use a fitness tracker or smartphone to count steps</li>
          <li>Set reminders to get up and move every hour</li>
          <li>Combine steps with other daily activities</li>
        </ul>
      `
    }
  };
  
  // Show challenge info when clicking info buttons
  document.querySelectorAll('.challenge-info-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      const challengeId = btn.dataset.challenge;
      const challenge = challengeInfo[challengeId];
      
      if (challenge && challengeInfoTitle && challengeInfoBody) {
        challengeInfoTitle.textContent = challenge.title;
        challengeInfoBody.innerHTML = challenge.content;
        if (challengeInfoModal) challengeInfoModal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
      }
    });
  });
  
  // Close challenge info modal
  if (closeChallengeInfo) {
    closeChallengeInfo.addEventListener('click', () => {
      if (challengeInfoModal) challengeInfoModal.style.display = 'none';
      document.body.style.overflow = 'auto';
    });
  }
  
  // Close modal when clicking outside
  if (challengeInfoModal) {
    challengeInfoModal.addEventListener('click', (e) => {
      if (e.target === challengeInfoModal) {
        challengeInfoModal.style.display = 'none';
        document.body.style.overflow = 'auto';
      }
    });
  }
  
  // Weekly Digest Auto-sliding functionality
  document.addEventListener('DOMContentLoaded', function() {
    const digestTrack = document.getElementById('digestTrack');
    const digestCards = document.querySelectorAll('.digest-card');
    
    if (digestCards.length > 0 && digestTrack) {
      let currentSlide = 0;
      const totalSlides = digestCards.length;
      const slideWidth = digestCards[0].offsetWidth + 24; // 24px gap
      
      // Clone the first slide and append to end for seamless looping
      const firstClone = digestCards[0].cloneNode(true);
      digestTrack.appendChild(firstClone);
      
      function slideToNext() {
        currentSlide++;
        digestTrack.style.transition = 'transform 0.5s ease';
        digestTrack.style.transform = `translateX(-${currentSlide * slideWidth}px)`;
        
        // If we're at the last slide (which is the clone), reset without animation
        if (currentSlide === totalSlides) {
          setTimeout(() => {
            digestTrack.style.transition = 'none';
            currentSlide = 0;
            digestTrack.style.transform = `translateX(0)`;
          }, 500);
        }
      }
      
      // Start auto sliding
      let slideInterval = setInterval(slideToNext, 3000);
      
      // Pause on hover/touch
      digestTrack.addEventListener('mouseenter', () => clearInterval(slideInterval));
      digestTrack.addEventListener('mouseleave', () => {
        slideInterval = setInterval(slideToNext, 3000);
      });
      
      digestTrack.addEventListener('touchstart', () => clearInterval(slideInterval));
      digestTrack.addEventListener('touchend', () => {
        slideInterval = setInterval(slideToNext, 3000);
      });
    }
  });
  
  // Newsletter/Digest Detail Pages functionality
  const newsletterCards = document.querySelectorAll('.newsletter-card, .digest-card');
  const newsletterDetails = document.querySelectorAll('.newsletter-detail');
  const closeDetailButtons = document.querySelectorAll('.newsletter-detail-close');
  
  newsletterCards.forEach(card => {
    card.addEventListener('click', () => {
      const newsletterId = card.dataset.newsletterId;
      const newsletterDetail = document.getElementById(newsletterId);
      
      if (newsletterDetail) {
        // Hide all newsletter details first
        newsletterDetails.forEach(detail => {
          detail.classList.remove('active');
        });
        
        // Show the selected newsletter detail
        newsletterDetail.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    });
  });
  
  closeDetailButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const newsletterDetail = btn.closest('.newsletter-detail');
      if (newsletterDetail) {
        newsletterDetail.classList.remove('active');
        document.body.style.overflow = 'auto';
      }
    });
  });
  
  // Close newsletter detail when clicking outside
  newsletterDetails.forEach(detail => {
    detail.addEventListener('click', (e) => {
      if (e.target === detail) {
        detail.classList.remove('active');
        document.body.style.overflow = 'auto';
      }
    });
  });
  
  // Challenges carousel functionality
  (function() {
    const carousel = document.getElementById('challenge-carousel');
    const slides = document.getElementById('challenge-slides');
    const cards = slides ? slides.querySelectorAll('.event-card') : [];
    
    if (cards.length > 0 && carousel && slides) {
      let current = 0;
      let interval = null;

      function showSlide(idx) {
        const cardWidth = cards[0].offsetWidth + 20; // 20px gap
        slides.scrollTo({
          left: cardWidth * idx,
          behavior: 'smooth'
        });
      }

      function nextSlide() {
        current = (current + 1) % cards.length;
        showSlide(current);
      }

      // Start auto sliding
      function startAutoSlide() {
        interval = setInterval(nextSlide, 4000);
      }

      // Pause on hover/touch
      carousel.addEventListener('mouseenter', () => clearInterval(interval));
      carousel.addEventListener('mouseleave', startAutoSlide);
      carousel.addEventListener('touchstart', () => clearInterval(interval));
      carousel.addEventListener('touchend', startAutoSlide);

      // Responsive: reset scroll on resize
      window.addEventListener('resize', () => showSlide(current));

      // Initialize
      startAutoSlide();
      showSlide(0);
    }
  })();

  // Testimonials Carousel Functionality
  (function() {
    const testimonialsTrack = document.getElementById('testimonialsTrack');
    const testimonialSlides = testimonialsTrack ? testimonialsTrack.querySelectorAll('.testimonial-slide') : [];
    const testimonialIndicators = document.getElementById('testimonialIndicators');
    
    if (testimonialSlides.length > 0 && testimonialsTrack && testimonialIndicators) {
      let currentTestimonial = 0;
      let testimonialInterval = null;
      
      // Create indicators
      testimonialSlides.forEach((_, index) => {
        const indicator = document.createElement('div');
        indicator.classList.add('testimonial-indicator');
        if (index === 0) indicator.classList.add('active');
        indicator.addEventListener('click', () => {
          goToTestimonial(index);
        });
        testimonialIndicators.appendChild(indicator);
      });
      
      function goToTestimonial(index) {
        currentTestimonial = index;
        testimonialsTrack.style.transform = `translateX(-${currentTestimonial * 100}%)`;
        
        // Update active indicator
        document.querySelectorAll('.testimonial-indicator').forEach((indicator, i) => {
          if (i === currentTestimonial) {
            indicator.classList.add('active');
          } else {
            indicator.classList.remove('active');
          }
        });
        
        // Reset auto-slide timer
        resetTestimonialInterval();
      }
      
      function nextTestimonial() {
        currentTestimonial = (currentTestimonial + 1) % testimonialSlides.length;
        goToTestimonial(currentTestimonial);
      }
      
      function startTestimonialInterval() {
        testimonialInterval = setInterval(nextTestimonial, 5000);
      }
      
      function resetTestimonialInterval() {
        clearInterval(testimonialInterval);
        startTestimonialInterval();
      }
      
      // Pause on hover
      testimonialsTrack.addEventListener('mouseenter', () => clearInterval(testimonialInterval));
      testimonialsTrack.addEventListener('mouseleave', startTestimonialInterval);
      
      // Initialize
      startTestimonialInterval();
    }
  })();
</script>
</body>
</html>